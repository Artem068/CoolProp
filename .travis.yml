
notifications:
  email:
    on_success: never
    on_failure: change
    
language: 
  - cpp
  
os: linux
dist: trusty

compiler:
  - clang
  - gcc

addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    - llvm-toolchain-trusty
    packages:
    - cmake
    - gcc-6
    - g++-6
    - clang-3.7

branches:
  only:
    - master
    - release
    - coverity_scan
    - travis_integration
  # Build all branches
  #  - /.*/ 

install:
  - if [ "$CXX" = "g++" ]; then export CXX="g++-6" CC="gcc-6"; fi
  - if [ "$CXX" = "clang++" ]; then export CXX="clang++-3.7" CC="clang-3.7"; fi

# command to run tests
script:   
  # Check compiler and cmake versions
  - cmake --version; gcc -v; clang -v
  - echo "$CXX" && "$CXX" -v
  # Run your build commands next
  - mkdir build && pushd build
  - echo "${TRAVIS_BUILD_DIR}"
  - cmake .. -DCMAKE_BUILD_TYPE=Release # Same as "${TRAVIS_BUILD_DIR}"
  - cmake --build . --config Release
  - popd 
